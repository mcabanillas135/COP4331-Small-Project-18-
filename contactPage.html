<!DOCTYPE html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
	<title>Contacts Page</title>
	<link href="contactPage.css" rel="stylesheet">

</head>
<body>
	
	<div class = "container" id = "container">
		<h1 class="form__title">Contacts</h1>
		
		
		<input type="text" id = "searchBar">
		<button onclick = "searchTable()">Search</button>
	
		<table id="contactList">
			<tr>
				<th> First Name </th>
				<th> Last Name </th>
				<th> Phone Number </th>
				<th> Email </th>
			</tr>
			<tr>
				<td> Quinn </td>
				<td> Gilbert </td>
				<td> 516-530-3021</td>
				<td> quinngilbert@gmail.com </td>
			</tr>
			<tr>
				<td> Michael </td>
				<td> Scott </td>
				<td>  </td>
				<td> michaelscott@ddmfl.com </td>
			</tr>
			<tr>
				<td> Dwight </td>
				<td>  </td>
				<td> 012-345-6789 </td>
				<td> </td>
		</table>
		
		<button id="addContactButton" onclick = "showAddContactPage()">Add Contact</button>
		
		<div class = "buttonParent">

		
		<div class="form__input-group">
			<button onclick = "deleteSelected()">delete</button>
		</div>
		
		<form>
			<div id = "settingsBar">
				<button id="settings-btn">Settings</button>
        
				<div id="settings-dropdown" style="display: none;">
	
			  	<br>
					<button id="Edit-User">Edit username</button>
					<br>
					<button id ="Edit-pass">Edit password</button>
					<br>
					<div id="dark-mode-widget"></div>
					<label for="size-slider">Size:</label>
					<br> 
					<input type="range" id="size-slider" min="1" max="50" value="25">
				</div>
					<button>Log Out</button>
				</div>
			</div>	
		</form>
	</div>
	
	</div>

	<div class = "container" id = "contactDetails" style = "display: none;">
		<h1 class="form__title">Contact Information</h1>

		<form action="/action_page.php">
			<label>First name:</label>
			<input class = "detailedInfo" id="detailedFirstName" value="John">
			<br>
			<label>Last name:</label>
			<input class = "detailedInfo" id="detailedLastName" value="Doe">
			<br>
			<label>Email:</label>
			<input class = "detailedInfo" id="detailedEmail" value="example@email.com">
			<br>
			<label>Phone:</label>
			<input class = "detailedInfo" id="detailedPhone" value="012-345-6789">
			<br>
			<label>Street Address:</label>
			<input class = "detailedInfo" id="street"  value="123 Example Court">
			<br>
			<label>City:</label>
			<input class = "detailedInfo" id="city" name="city" value="Orlando">
			<br>
			<label>State:</label>
			<input class = "detailedInfo" id="state" name="state" value="FL">
			<br>
			<label>Zip Code:</label>
			<input class = "detailedInfo" id="zip" name="zip" value="32817">
			<br>
			<label>Birth Date:</label>
			<input class = "detailedInfo" id="birth" name="birth" value="2000-01-01">
			<br>
			<label>Date Created:</label>
			<input class = "detailedInfo" id="created" name="created" value="2023-03-17">
			<br>
			<label>Last Edited:</label>
			<input class = "detailedInfo" id="edited" name="edited" value="2023-03-18">
		</form>
		
		<button id = "editButton" onclick = 'setEditable()'>Edit</button>
		<button id = "cancelButton" onclick = 'cancelEdits()' style = "display: none">Cancel</button> 
		<button id = "confirmButton" onclick = 'confirmEdits()' style = "display: none">Confirm</button>
		
	</div>
	
	<div class = "container" id = "addContactDetails" style = "display: none;">
		<h1 class="form__title">Contact Information</h1>

		<form action="/action_page.php">
			<label>First name:</label>
			<input class = "addInfo" id="addFirstName" value="John">
			<br>
			<label>Last name:</label>
			<input class = "addInfo" id="addLastName" value="Doe">
			<br>
			<label>Email:</label>
			<input class = "addInfo" id="addEmail" value="example@email.com">
			<br>
			<label>Phone:</label>
			<input class = "addInfo" id="addPhone" value="012-345-6789">
			<br>
			<label>Street Address:</label>
			<input class = "addInfo" id="addStreet"  value="123 Example Court">
			<br>
			<label>City:</label>
			<input class = "addInfo" id="addCity" name="city" value="Orlando">
			<br>
			<label>State:</label>
			<input class = "addInfo" id="addState" name="state" value="FL">
			<br>
			<label>Zip Code:</label>
			<input class = "addInfo" id="addZip" name="zip" value="32817">
			<br>
			<label>Birth Date:</label>
			<input class = "addInfo" id="addBirth" name="birth" value="2000-01-01">
			<br>
			<label>Date Created:</label>
			<input class = "addInfo" id="addCreated" name="created" value="2023-03-17">
			<br>
			<label>Last Edited:</label>
			<input class = "addInfo" id="addEdited" name="edited" value="2023-03-18">
		</form>
		
		<button id = 'confirmAdd' onclick = 'addContact()'>Confirm</button>
		
	</div>
			
	</div>
</body>
<script>
makeContactList();
function getData() {
	baseurl = "http://24.199.121.145";
	displayContact = baseurl + "/API/ContactDisplay.php";
	let request = new XMLHttpRequest();
	request.open("POST", displayContact);
	let tmp = {
		User_Id : "16",
		User_Name: "user"
	};
	console.log(tmp);
	let inputJSON = JSON.stringify(tmp);
	console.log(inputJSON);
	request.setRequestHeader("Content-Type", "application/json");
	request.onload = function() {
		if (request.status === 200) {
			// parse the response JSON and do something with it
			var outputData = JSON.parse(request.responseText);
			console.log(outputData);
		} else {
			console.log("Request failed with status " + request.status);
		}
	};

	// send the request with the input JSON as the request body
	request.send(inputJSON);
}
function makeContactList(){
	getData();
	// get table info from SQL query and fill table
	
	//let text = ...
	//document.getElementById("contactList").innerHTML = text;
}
</script>
<script src = "contactPage.js"></script>
<script src="./login/main.js"></script>

<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<script>
  function addDarkmodeWidget() {
    new Darkmode().showWidget();
  }
  window.addEventListener('load', addDarkmodeWidget);
  const options = {
  bottom: '64px', // default: '32px'
  right: 'unset', // default: '32px'
  left: '32px', // default: 'unset'
  time: '0.25s', // default: '0.3s'
  mixColor: '#fff', // default: '#fff'
  backgroundColor: '#fff',  // default: '#fff'
  buttonColorDark: '#100f2c',  // default: '#100f2c'
  buttonColorLight: '#fff', // default: '#fff'
  saveInCookies: true, // default: true,
  label: 'ðŸŒ“', // default: ''
  autoMatchOsTheme: true // default: true
}

const darkmode = new Darkmode(options);
darkmode.showWidget();
</script>